<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dino Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h1>Dino Game</h1>

  <div id="game">
    <div id="score">0</div>
    <div class="dino"></div>
  </div>

  <p>Space = Jump | â†“ = Duck</p>

  <script>
    let score = 0;
    let isJumping = false;
    let isDuck = false;

    const dino = document.querySelector(".dino");
    const scoreDisplay = document.getElementById("score");
    const game = document.getElementById("game");

    function jump() {
      if (isJumping) return;
      isJumping = true;

      let position = 0;
      const up = setInterval(() => {
        if (position >= 100) {
          clearInterval(up);
          const down = setInterval(() => {
            if (position <= 0) {
              clearInterval(down);
              isJumping = false;
            }
            position -= 5;
            dino.style.bottom = position + "px";
          }, 20);
        }
        position += 5;
        dino.style.bottom = position + "px";
      }, 20);
    }

    function duck() {
      if (isDuck) return;
      isDuck = true;
      dino.classList.add("duck");
      setTimeout(() => {
        dino.classList.remove("duck");
        isDuck = false;
      }, 500);
    }

    function createObstacle() {
      const obstacle = document.createElement("div");
      obstacle.classList.add("obstacle");
      game.appendChild(obstacle);

      let pos = game.offsetWidth;
      obstacle.style.left = pos + "px";

      const move = setInterval(() => {
        pos -= 5;
        obstacle.style.left = pos + "px";

        const dinoRect = dino.getBoundingClientRect();
        const obsRect = obstacle.getBoundingClientRect();

        if (
          obsRect.left < dinoRect.right &&
          obsRect.right > dinoRect.left &&
          obsRect.bottom > dinoRect.top
        ) {
          alert("Game Over! Score: " + score);
          location.reload();
        }

        if (pos < -20) {
          obstacle.remove();
          clearInterval(move);
          score++;
          scoreDisplay.textContent = score;
        }
      }, 20);
    }

    setInterval(createObstacle, 2000);

    document.addEventListener("keydown", (e) => {
      if (e.code === "Space") jump();
      if (e.code === "ArrowDown") duck();
    });
  </script>

</body>
</html>
